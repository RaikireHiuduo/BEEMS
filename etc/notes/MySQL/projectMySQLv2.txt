----
Note: Updated variant that asset only keep the ID. ItemTypeID becomes important. Allows for expansion by adding more tables. Quite agnostic.

cd \xampp\mysql\bin
mysql -u root -p
root123

USE beems;

SELECT * FROM users;
SELECT * FROM itemtypes;
SELECT * FROM vechicles;
SELECT * FROM documents;
SELECT * FROM groups;
SELECT * FROM assets;
SELECT * FROM transactions;
DESC users;
DESC itemtypes;
DESC vechicles;
DESC documents;
DESC groups;
DESC assets;
DESC transactions;

Assumptions:-
1. users
- roles: 1 = Admin (gid is just a placeholder), 2 = Manager, 3 = User
2. assets
- itemtypeid: 1 = Vechicle, 2 = Document
- itemid: id in that table.

---> MAGIC.

CREATE DATABASE beems;
USE beems;

DROP TABLE users;
DROP TABLE itemtypes;
DROP TABLE vechicles;
DROP TABLE documents;
DROP TABLE assets;
DROP TABLE transactions;
DROP TABLE groups;

CREATE TABLE groups(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	name VARCHAR(100) NOT NULL,
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE users(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	name VARCHAR(100) NOT NULL,
	passwordhash VARCHAR(50) NOT NULL,
	role INT(1) NOT NULL,
	gid INT(5) NOT NULL,
	
	FOREIGN KEY (gid) REFERENCES groups(id)
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE itemtypes(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	name VARCHAR(100),
	description VARCHAR(5000)
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE vechicles(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	make VARCHAR(100) NOT NULL,
	model VARCHAR(1000) NOT NULL
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE documents(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	title VARCHAR(100) NOT NULL,
	content VARCHAR(5000) NOT NULL
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE assets(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	itemtypeid INT(5) NOT NULL,
	itemid INT(5) NOT NULL,
	qrcode VARCHAR(100) NOT NULL,
	gid INT(5) NOT NULL,
	
	FOREIGN KEY (gid) REFERENCES groups(id),
	FOREIGN KEY (itemtypeid) REFERENCES itemtypes(id)
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE transactions(
	id INT(5) PRIMARY KEY NOT NULL AUTO_INCREMENT,
	uid INT(5) NOT NULL, 
	aid INT(5) NOT NULL,
	date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
	longtitude VARCHAR(15),
	latitude VARCHAR(15),
	
	FOREIGN KEY (uid) REFERENCES users(id),
	FOREIGN KEY (aid) REFERENCES assets(id)
) AUTO_INCREMENT = 1 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO groups (name) VALUES ("#bitTeam");



DROP TABLE users;
DROP TABLE itemtypes;
DROP TABLE vechicles;
DROP TABLE documents;
DROP TABLE assets;
DROP TABLE transactions;
DROP TABLE groups;

---